<div class="row no-gutters mb-2">
  <div class="col-12 card">
    <div class="row no-gutters p-2">
      <div class="col-8">
        <% if @action == "create" %>
          <h1 class="mb-0">Novo Apartamento</h1>
        <% else %>
          <h1 class="mb-0">Atualizar Apartamento</h1>
        <% end %>
      </div>
      <div class="col-4 align-self-center text-right">
        <%= link_to("Voltar", root_path) %>
      </div>
    </div>
  </div>
</div>

<%= form_for @property, url: {action: @action}  do |f| %>
  <div class="row no-gutters">

    <div class="col-md-4 pr-md-2 pb-2">
      <%= render "partials/gallery_image_uploader" %>
    </div>

    <div class="col-md-8 card p-3">

      <h2>Informações gerais</h2>
      <div class="form-row mb-2">
        <%= render "partials/property_fields", f: f %>
      </div>

      <h2>Atributos do imóvel</h2>
      <div class="form-row">
        <div class="form-group col-sm-6 col-md-4">
          <label>Perfil</label>
          <%= f.select :profile, options_for_select(Apartment.attributes_for_select "profiles"),
          {}, {class: "form-control #{validate_field(@property, :profile)}"} %>
          <%= error_message_for_field(@property, :profile) %>
        </div>

        <div class="form-group col-sm-6 col-md-4">
          <label>Número de Quartos</label>
          <%= f.select :number_of_rooms, options_for_select(Apartment.attributes_for_select "number_of_rooms"),
          {}, {class: "form-control #{validate_field(@property, :number_of_rooms)}"} %>
          <%= error_message_for_field(@property, :number_of_rooms) %>
        </div>

        <div class="form-group col-sm-6 col-md-4">
          <label>Área Privada</label>
          <%= f.text_field :private_area, class: "form-control #{validate_field(@property, :private_area)}" %>
          <%= error_message_for_field(@property, :private_area) %>
        </div>

        <div class="form-group col-sm-6 col-md-4">
          <label>Posição</label>
          <%= f.select :position, options_for_select(House.attributes_for_select "positions"),
          {}, {class: "form-control #{validate_field(@property, :position)}"} %>
          <%= error_message_for_field(@property, :position) %>
        </div>

        <div class="form-group col-sm-6 col-md-4">
          <label>Condomínio</label>
          <%= f.text_field :condominium, class: "form-control #{validate_field(@property, :condominium)}" %>
          <%= error_message_for_field(@property, :condominium) %>
        </div>

        <div class="form-group col-sm-6 col-md-4">
          <label>Box de Garagem</label>
          <%= f.number_field :number_of_boxes, min: 0, class: "form-control #{validate_field(@property, :number_of_boxes)}" %>
          <%= error_message_for_field(@property, :number_of_boxes) %>
        </div>

        <div class="form-group col">
          <label>Cobertura?</label> <br>
          <%= f.check_box :roof, class: "form-check-input #{validate_field(@property, :roof)}" %>
          <%= error_message_for_field(@property, :roof) %>
        </div>

        <div class="form-group col-12 text-right">
          <% if @action == "create" %>
            <%= f.submit "Criar", class: "btn btn-success" %>
          <% else %>
            <%= f.submit "Atualizar", class: "btn btn-primary" %>
          <% end %>
        </div>

      </div>

    </div>
  </div>
<% end %>
